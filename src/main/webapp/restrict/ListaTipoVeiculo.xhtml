<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
 xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://java.sun.com/jsf/core" 
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  template="layout.xhtml">
	  
	<ui:define name="tarefas">
	
	<h:form prependId="true" id="formtable"  >
			<div align="center" class="estiloDiv">
			<p:panel id="panel" style="width:50%">      
<!--                 <h:panelGrid columns="1" > -->
                
                	<p:growl id="msg1" showDetail="true" />
                	
                	<p:contextMenu for="idTabela">  
				        <p:menuitem value="#{i18n['button.delete']}" update=":formtable:idTabela :formtable:msg1" icon="ui-icon-close" 
				                    actionListener="#{tipoVeiculoBean.delete}"/>  
				    </p:contextMenu>  
				    	
				     <p:dataTable id="idTabela" var="item" value="#{tipoVeiculoBean.listaTipoVeiculos}"
							paginator="true" rows="10" emptyMessage="#{i18n['message.registry.not_found']}"
							paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink}
							{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							rowsPerPageTemplate="5,10,15" paginatorPosition="bottom" 
							selection="#{tipoVeiculoBean.model}" selectionMode="single">
							
							<p:ajax event="rowSelect" listener="#{tipoVeiculoBean.onRowSelect}"	update=":formtable:msg1"  />  
	        				<p:ajax event="rowUnselect" listener="#{tipoVeiculoBean.onRowUnselect}" update=":formtable:msg1"/> 
	        				
	        				 <p:column style="width:80px;text-align:center">  							
								<h:outputText value="#{item.nome}"/>
							</p:column>	
							
							<f:facet name="footer">  
					        	<p:commandButton value="#{i18n['button.new_vehicle_type']}" process="@this" update="@form"
					        					 action="#{tipoVeiculoBean.novo}"
					        					 style="width:100%;text-align:center">
					        		<f:setPropertyActionListener target="#{tipoVeiculoBean.model}" value="#{model}"/>
						        </p:commandButton>
				       		</f:facet> 
					</p:dataTable>
					        
<!--                 </h:panelGrid> -->
            </p:panel>
            </div>
        </h:form>
    </ui:define>
 </ui:composition>
				    
							
						